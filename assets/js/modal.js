"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[582],{887:function(e,t,s){s.r(t);var i=s(692),a=s(796),l=s(603),o=s(120),n=s(738),r=s(247);const c="active";class d extends i.Z{constructor(e,t){super(e,t),this._isActive=!1,this._dialog=a.Z.findOne(".modal-dialog",this._element),this._scrollbar=new n.Z,this._focusTrap=new r.Z({target:this._element}),this._backdrop=new o.Z({rootElement:this._element.parentNode,classNames:["backdrop-modal"],clickCallback:()=>this.hide()}),this._addEventListeners()}static get NAME(){return"modal"}toggle(){this._isActive?this.hide():this.show()}show(){this._isActive||(this._scrollbar.hide(),this._lastFocusedElement=document.activeElement,this._element.classList.add(c),this._focusTrap.activate(),this._backdrop.show((()=>{this._dialog.classList.add(c),this._queueCallback((()=>{this._isActive=!0,this._manageAriaAttributes(!0)}),this._dialog)})))}hide(){this._isActive&&(this._dialog.classList.remove(c),this._queueCallback((()=>{this._element.classList.remove(c),this._backdrop.hide((()=>{this._scrollbar.reset(),this._manageAriaAttributes(!1),this._lastFocusedElement&&(this._lastFocusedElement.focus(),this._lastFocusedElement=null),this._isActive=!1}))}),this._dialog),this._focusTrap.deactivate())}_manageAriaAttributes(e){e?(this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal","true"),this._element.setAttribute("role","dialog")):(this._element.setAttribute("aria-hidden","true"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"))}_addEventListeners(){this._element.addEventListener("keydown",(e=>{"Escape"===e.key&&this.hide()})),this._element.addEventListener("click",(e=>{e.target.closest(".modal-close")&&(e.preventDefault(),this.hide())}))}}document.addEventListener("click",(e=>{const t=e.target.closest("[data-sd-toggle=modal]");if(!t)return;["A","AREA"].includes(t.tagName)&&e.preventDefault();const s=a.Z.getElementFromSelector(t);s&&d.getOrCreateInstance(s).toggle()})),(0,l.KB)((()=>{const e=a.Z.find(".modal.active");if(e.length>1)return console.error("More than one active modal isn't allowed. Active modals:"),void console.log(e);for(const t of e)d.getOrCreateInstance(t).show()})),window.Modal=d,t.default=d}}]);